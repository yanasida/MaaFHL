{
  "controller": [
    {
      "name": "安卓端",
      "type": "Adb"
    }
  ],
  "resource": [
    {
      "name": "官服",
      "path": [
        "{PROJECT_DIR}/resource"
      ]
    }
  ],
  "agent": {
    "child_exec": "python",
    "child_args": [
      "{PROJECT_DIR}/agent/main.py"
    ]
  },
  "task": [
    {
      "name": "清空本地数据",
      "entry": "deleteLocalStorage",
      "doc": "[size:12][color:darkgray]部分任务存在每日统计,每天仅执行一次,清除后可重复执行[/color][/size]"
    },
    {
      "name": "启动游戏",
      "entry": "startApp"
    },
    {
      "name": "桃源居",
      "entry": "startTyCheck",
      "option": [
        "领取桃源居体力",
        "是否使用通宝购买体力",
        "桃源管理待办事务",
        "桃源管理记事分享(30通宝)",
        "考工治图 百工图转化",
        "家具制作随机家具"
      ]
    },
    {
      "name": "雅舍",
      "entry": "clubsStart",
      "option": [
        "捐赠20通宝",
        "捐赠60通宝",
        "放河灯",
        "刷新悬赏任务"
      ],
      "doc": "[size:12][color:darkgray]默认捐赠铜币,放河灯默认第一个名士(最近捐赠)[/color][/size]"
    },
    {
      "name": "金戈演武",
      "entry": "pvpStart",
      "option": [
        "金戈选项",
        "是否使用骁武魂"
      ],
      "doc": "[size:12][color:darkgray]所有功能次数统计均按照当天使用本软件自动金戈的次数[/color][/size]\n[size:18][color:black]首胜[/color][/size]\n[size:15][color:darkgray]胜利一次后退出金戈[/color][/size]\n[size:18][color:black]清符[/color][/size]\n[size:15][color:darkgray]清空枕戈符信后退出金戈，七段以及以上仅可在金戈时间内使用[/color][/size]\n[size:18][color:black]3场活跃度[/color][/size]\n[size:15][color:darkgray]七段以下可直接使用，七段以及以上仅在金戈时间内可用[/color][/size]"
    },
    {
      "name": "沙盘论义",
      "entry": "spStartCheck",
      "option": [
        "沙盘次数",
        "令旗购买数量"
      ]
    },
    {
      "name": "日常",
      "entry": "DailyStartCheck",
      "option": [
        "喵喵供台",
        "喵宴居",
        "名士赠礼",
        "忘川躲猫猫",
        "是否消耗猫爪找猫猫",
        "知交圈点赞3次",
        "赠领友情点",
        "邮件领取",
        "喵居喂猫",
        "喵居吸猫",
        "世界频道对话2次"
      ]
    },
    {
      "name": "九世至契",
      "entry": "BTLJSStart",
      "doc": "[size:12][color:darkgray]请位于九世至契活动页面,提前调整阵容,打完12层后自动领取奖励,失败时返回游戏首页[/color][/size]\n[size:12][color:darkgray]将消耗材料喂全部的黑猫和花猫然后拿最高的奖励[/color][/size]"
    },
    {
      "name": "限时活动-千奇诡道",
      "entry": "QQGDCount",
      "doc": "[size:12][color:darkgray]请保持当前页面位于活动首页[/color][/size]",
      "advanced": [
        "千奇诡道次数"
      ]
    },
    {
      "name": "限时活动-桂月夜市",
      "entry": "TLLGCount",
      "doc": "[size:12][color:darkgray]请保持当前页面位于活动难度页面,该页面需要有进入按钮[/color][/size]",
      "advanced": [
        "桂月夜市次数"
      ]
    },
    {
      "name": "限时活动-灵猫运转抽奖",
      "entry": "TLCatLotteryStart",
      "doc": "[size:12][color:darkgray]！！仅支持抽奖！！请保持当前页面位于喵运转盘页面并保证材料充足[/color][/size]\n[size:12][color:darkgray]将消耗材料喂全部的黑猫和花猫然后拿最高的奖励[/color][/size]"
    },
    {
      "name": "限时活动-大唐枕中观",
      "entry": "tangStart",
      "doc": "[size:12][color:darkgray]清空所有名帖任务结束[/color][/size]\n[size:12][color:darkgray]策略:两次劳动一次投琼,投琼3000铜钱[/color][/size]"
    },
    {
      "name": "限时活动-幻域行商",
      "entry": "TSStart",
      "doc": "[size:12][color:darkgray]仅在第一关(墟烟遗市)测试完成,理论通用[/color][/size]\n[size:12][color:darkgray]策略:行商筹略随机,在降价时买入,可以卖出时直接卖出,清符后结束任务[/color][/size]\n[size:12][color:darkgray]注意:开始使用前请完成新手指引(第一次进入会有),开始时选中具体关卡,使用千灯画船,页面应存在“进入”或者“继续”图标[/color][/size]"
    },
    {
      "name": "限时活动-百象轮转",
      "entry": "TLBXCount",
      "doc": "[size:12][color:darkgray]请确认所选关卡和难度均已解锁[/color][/size]\n[size:12][color:darkgray]策略:按次数选择几号位名士出站,自动调整打的位置,可能漏怪需要手动完成[/color][/size]\n[size:12][color:darkgray]注意:开始使用前请完成新手指引(第一次进入会有),普通难度即可拿满奖励,推荐普通,页面应为关卡选择页面[/color][/size]",
      "option": [
        "百象轮转_关卡",
        "百象轮转_难度"
      ],
      "advanced": [
        "百象轮转_次数"
      ]
    }
  ],
  "option": {
    "金戈选项": {
      "cases": [
        {
          "name": "清符",
          "pipeline_override": {
            "checkPvpVersionTime": {
              "recognition": {
                "param": {
                  "custom_recognition_param": {
                    "type": 1
                  }
                }
              }
            }
          }
        },
        {
          "name": "首胜",
          "pipeline_override": {
            "checkPvpVersionTime": {
              "recognition": {
                "param": {
                  "custom_recognition_param": {
                    "type": 2
                  }
                }
              }
            }
          }
        },
        {
          "name": "3场活跃度",
          "pipeline_override": {
            "checkPvpVersionTime": {
              "recognition": {
                "param": {
                  "custom_recognition_param": {
                    "type": 3
                  }
                }
              }
            }
          }
        }
      ]
    },
    "是否使用骁武魂": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {
            "useSoulOrNot": {
              "recognition": {
                "param": {
                  "custom_recognition_param": {
                    "use": true
                  }
                }
              }
            }
          }
        },
        {
          "name": "No",
          "pipeline_override": {
            "useSoulOrNot": {
              "recognition": {
                "param": {
                  "custom_recognition_param": {
                    "use": false
                  }
                }
              }
            }
          }
        }
      ]
    },
    "领取桃源居体力": {
      "cases": [
        {
          "name": "Yes"
        }
      ]
    },
    "是否使用通宝购买体力": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {
            "startTyCheck": {
              "action": {
                "param": {
                  "custom_action_param": {
                    "useTongBao": true
                  }
                }
              }
            }
          }
        },
        {
          "name": "No",
          "pipeline_override": {
            "startTyCheck": {
              "action": {
                "param": {
                  "custom_action_param": {
                    "useTongBao": false
                  }
                }
              }
            },
            "receiveVitalityOutTime1": {
              "enabled": false
            },
            "receiveVitalityOutTime2": {
              "enabled": false
            }
          }
        }
      ]
    },
    "喵喵供台": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "catGift": {
              "enabled": false
            }
          }
        }
      ]
    },
    "捐赠20通宝": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "clubsSignIn20": {
              "enabled": false
            }
          }
        }
      ]
    },
    "捐赠60通宝": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "clubsSignIn60": {
              "enabled": false
            }
          }
        }
      ]
    },
    "放河灯": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "clubsWish": {
              "enabled": false
            }
          }
        }
      ]
    },
    "刷新悬赏任务": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "clubsBounty": {
              "enabled": false
            }
          }
        }
      ]
    },
    "沙盘次数": {
      "cases": [
        {
          "name": "每日一次",
          "pipeline_override": {
            "spStartCheck": {
              "action": {
                "param": {
                  "custom_action_param": {
                    "combat": 1
                  }
                }
              }
            }
          }
        },
        {
          "name": "清符",
          "pipeline_override": {
            "spStartCheck": {
              "action": {
                "param": {
                  "custom_action_param": {
                    "combat": 2
                  }
                }
              }
            }
          }
        }
      ]
    },
    "百象轮转_难度": {
      "cases": [
        {
          "name": "普通",
          "pipeline_override": {
            "TLBXSelectDifficulty2": {
              "post_delay": 1500,
              "recognition": {
                "type": "OCR",
                "param": {
                  "expected": [
                    "普通"
                  ],
                  "threshold": 0.8,
                  "roi": [
                    867,
                    244,
                    184,
                    373
                  ]
                }
              },
              "action": "Click",
              "next": [
                "TLBXStartCombat"
              ]
            }
          }
        },
        {
          "name": "困难",
          "pipeline_override": {
            "TLBXSelectDifficulty2": {
              "post_delay": 1500,
              "recognition": {
                "type": "OCR",
                "param": {
                  "expected": [
                    "困难"
                  ],
                  "threshold": 0.8,
                  "roi": [
                    867,
                    244,
                    184,
                    373
                  ]
                }
              },
              "action": "Click",
              "next": [
                "TLBXStartCombat"
              ]
            }
          }
        },
        {
          "name": "精英",
          "pipeline_override": {
            "TLBXSelectDifficulty2": {
              "post_delay": 1500,
              "recognition": {
                "type": "OCR",
                "param": {
                  "expected": [
                    "精英"
                  ],
                  "threshold": 0.8,
                  "roi": [
                    867,
                    244,
                    184,
                    373
                  ]
                }
              },
              "action": "Click",
              "next": [
                "TLBXStartCombat"
              ]
            }
          }
        },
        {
          "name": "噩梦",
          "pipeline_override": {
            "TLBXSelectDifficulty2": {
              "post_delay": 1500,
              "recognition": {
                "type": "OCR",
                "param": {
                  "expected": [
                    "噩梦"
                  ],
                  "threshold": 0.8,
                  "roi": [
                    867,
                    244,
                    184,
                    373
                  ]
                }
              },
              "action": "Click",
              "next": [
                "TLBXStartCombat"
              ]
            }
          }
        },
        {
          "name": "绝境",
          "pipeline_override": {
            "TLBXSelectDifficulty2": {
              "post_delay": 1500,
              "recognition": {
                "type": "OCR",
                "param": {
                  "expected": [
                    "绝境"
                  ],
                  "threshold": 0.8,
                  "roi": [
                    867,
                    244,
                    184,
                    373
                  ]
                }
              },
              "action": "Click",
              "next": [
                "TLBXStartCombat"
              ]
            }
          }
        }
      ]
    },
    "百象轮转_关卡": {
      "cases": [
        {
          "name": "关卡1_玄都护法",
          "pipeline_override": {
            "TLBXSelectLevel1": {
              "post_delay": 2000,
              "recognition": {
                "type": "TemplateMatch",
                "param": {
                  "template": [
                    "timeLimit/baixiang/关卡1_玄都护法.png"
                  ],
                  "threshold": 0.9
                }
              },
              "action": {
                "type": "Click"
              },
              "next": [
                "TLBXSelectDifficulty"
              ]
            }
          }
        },
        {
          "name": "关卡2_无常双煞",
          "pipeline_override": {
            "TLBXSelectLevel1": {
              "post_delay": 2000,
              "recognition": {
                "type": "TemplateMatch",
                "param": {
                  "template": [
                    "timeLimit/baixiang/关卡2_无常双煞.png"
                  ],
                  "threshold": 0.9
                }
              },
              "action": {
                "type": "Click"
              },
              "next": [
                "TLBXSelectDifficulty"
              ]
            }
          }
        },
        {
          "name": "关卡3_五德禽象",
          "pipeline_override": {
            "TLBXSelectLevel1": {
              "post_delay": 2000,
              "recognition": {
                "type": "TemplateMatch",
                "param": {
                  "template": [
                    "timeLimit/baixiang/关卡3_五德禽象.png"
                  ],
                  "threshold": 0.9
                }
              },
              "action": {
                "type": "Click"
              },
              "next": [
                "TLBXSelectDifficulty"
              ]
            }
          }
        },
        {
          "name": "关卡4_森罗殿府",
          "pipeline_override": {
            "TLBXSelectLevel1": {
              "post_delay": 2000,
              "recognition": {
                "type": "TemplateMatch",
                "param": {
                  "template": [
                    "timeLimit/baixiang/关卡4_森罗殿府.png"
                  ],
                  "threshold": 0.9
                }
              },
              "action": {
                "type": "Click"
              },
              "next": [
                "TLBXSelectDifficulty"
              ]
            }
          }
        }
      ]
    },
    "令旗购买数量": {
      "cases": [
        {
          "name": "0",
          "pipeline_override": {
            "spStartBuyCheck": {
              "action": {
                "param": {
                  "custom_action_param": {
                    "buy": 0
                  }
                }
              }
            }
          }
        },
        {
          "name": "1",
          "pipeline_override": {
            "spStartBuyCheck": {
              "action": {
                "param": {
                  "custom_action_param": {
                    "buy": 1
                  }
                }
              }
            }
          }
        },
        {
          "name": "2",
          "pipeline_override": {
            "spStartBuyCheck": {
              "action": {
                "param": {
                  "custom_action_param": {
                    "buy": 2
                  }
                }
              }
            }
          }
        }
      ]
    },
    "知交圈点赞3次": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "momentsStart": {
              "enabled": false
            }
          }
        }
      ]
    },
    "邮件领取": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "emailStart": {
              "enabled": false
            }
          }
        }
      ]
    },
    "桃源管理记事分享(30通宝)": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "homeShareStart": {
              "enabled": false
            }
          }
        }
      ]
    },
    "喵居喂猫": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "catsHomeFeed": {
              "enabled": false
            }
          }
        }
      ]
    },
    "喵居吸猫": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "catsHomePetting": {
              "enabled": false
            }
          }
        }
      ]
    },
    "桃源管理待办事务": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "homeEventEnterStart": {
              "enabled": false
            }
          }
        }
      ]
    },
    "家具制作随机家具": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "homeFurnitureMakingStart": {
              "enabled": false
            }
          }
        }
      ]
    },
    "赠领友情点": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "friendsGiftStart": {
              "enabled": false
            }
          }
        }
      ]
    },
    "喵宴居": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "catFish": {
              "enabled": false
            }
          }
        }
      ]
    },
    "世界频道对话2次": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "worldSpeechStart": {
              "enabled": false
            }
          }
        }
      ]
    },
    "名士赠礼": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "sendGift": {
              "enabled": false
            }
          }
        }
      ]
    },
    "忘川躲猫猫": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {}
        }
      ]
    },
    "是否消耗猫爪找猫猫": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "seekCatsGo": {
              "enabled": false
            }
          }
        }
      ]
    },
    "考工治图 百工图转化": {
      "cases": [
        {
          "name": "Yes",
          "pipeline_override": {}
        },
        {
          "name": "No",
          "pipeline_override": {
            "convertPicStart": {
              "enabled": false
            }
          }
        }
      ]
    }
  },
  "advanced": {
    "千奇诡道次数": {
      "field": [
        "作战次数"
      ],
      "type": [
        "int"
      ],
      "default": [
        "0"
      ],
      "pipeline_override": {
        "QQGDCount": {
          "action": {
            "param": {
              "custom_action_param": {
                "target_count": "{作战次数}",
                "count": 1,
                "else_node": [
                  "QQGDStart"
                ],
                "next_node_msg": "千奇诡道已达到目标次数，退出该节点",
                "count_msg": "千奇诡道: {count}, 目标次数: {target_count}"
              }
            }
          }
        }
      },
      "doc": "按输入次数刷"
    },
    "桂月夜市次数": {
      "field": [
        "作战次数"
      ],
      "type": [
        "int"
      ],
      "default": [
        "0"
      ],
      "pipeline_override": {
        "TLLGCount": {
          "action": {
            "param": {
              "custom_action_param": {
                "target_count": "{作战次数}",
                "count": 1,
                "else_node": [
                  "LGEnterStart"
                ],
                "next_node_msg": "桂月夜市已达到目标次数，退出该节点",
                "count_msg": "桂月夜市: {count}, 目标次数: {target_count}"
              }
            }
          }
        }
      },
      "doc": "起始页面应该为具体难度页面,需要有进入按钮,默认策略为选择第一个物品然后布置,按输入次数刷"
    },
    "百象轮转_次数": {
      "field": [
        "作战次数"
      ],
      "type": [
        "int"
      ],
      "default": [
        "1"
      ],
      "pipeline_override": {
        "TLBXCount": {
          "action": {
            "param": {
              "custom_action_param": {
                "target_count": "{作战次数}",
                "count": 1,
                "else_node": [
                  "TLBXSelectLevel1"
                ],
                "next_node_msg": "百象轮转已达到目标次数，退出该节点",
                "count_msg": "百象轮转: {count}, 目标次数: {target_count}"
              }
            }
          }
        }
      }
    }
  }
}